{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","uri","id","className","s","dialog","active","avatar","src","img","alt","name","to","text","Message","message","maxLengthCreator5","maxLengthCreator","AddMessageForm","onSubmit","handleSubmit","Field","component","Textarea","validate","required","Dialogs","dialogsElements","dialogs","map","d","messagesElements","messages","m","MessageReduxForm","reduxForm","form","dialogItems","newPostForm","formData","onSendMessageClick","newMessageBody","mapStateToPropsForAuth","state","isAuth","auth","compose","connect","dialogsPage","dispatch","addMessageCreator","Component","RedirectComponent","this","React"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,SAAW,0BAA0B,YAAc,+B,oBCAxGD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,OAAS,2BAA2B,KAAO,yBAAyB,KAAO,yBAAyB,YAAc,gCAAgC,QAAU,4BAA4B,OAAS,6B,oBCAvPD,EAAOC,QAAU,CAAC,QAAU,2B,wGCsBbC,EApBI,SAACC,GAEhB,IAAIC,EAAM,YAAcD,EAAME,GAE9B,OACI,sBAAKC,UAAWC,IAAEC,OAAS,IAAMD,IAAEE,OAAnC,UACI,qBAAKH,UAAWC,IAAEG,OAAlB,SACI,qBAAKC,IAAKR,EAAMS,IAAKC,IAAKV,EAAMW,SAEpC,qBAAKR,UAAWC,IAAEO,KAAlB,SACI,cAAC,IAAD,CAASC,GAAIX,EAAb,SAAmBD,EAAMW,SAE7B,qBAAKR,UAAWC,IAAES,KAAlB,uG,kCCJGC,EARC,SAACd,GAEb,OACI,qBAAKG,UAAWC,IAAEW,QAAlB,SAA4Bf,EAAMa,Q,kCCEpCG,EAAoBC,YAAiB,GAErCC,EAAiB,SAAClB,GAEpB,OACI,uBAAMmB,SAAUnB,EAAMoB,aAAtB,UACI,qDACoB,uBAChB,8BACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXZ,KAAM,iBAENa,SAAU,CAACC,IAAUT,UAGpC,gGA2CGU,EArCC,SAAC1B,GAEb,IAAI2B,EACA3B,EAAM4B,QAAQC,KAAK,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAuB5B,GAAI4B,EAAE5B,GAAIS,KAAMmB,EAAEnB,KAAMF,IAAKqB,EAAErB,KAArCqB,EAAE5B,OAE3C6B,EACA/B,EAAMgC,SAASH,KAAK,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAoBpB,KAAMoB,EAAEpB,MAAdoB,EAAE/B,OAEvCgC,EAAmBC,YAAU,CAACC,KAAM,WAAjBD,CAA6BjB,GAMtD,OACI,8BACI,sBAAKf,UAAWC,IAAEwB,QAAlB,UACI,qBAAKzB,UAAWC,IAAEiC,YAAlB,SACMV,IAEN,sBAAKxB,UAAWC,IAAE4B,SAAlB,UACI,8BACMD,IAGN,qBAAK5B,UAAWC,IAAEkC,YAAlB,SACI,cAACJ,EAAD,CAAkBf,SAhBhB,SAACoB,GACnBvC,EAAMwC,mBAAmBD,EAASE,8B,sDCpCtCC,EAAyB,SAACC,GAC1B,MAAQ,CACJC,OAAQD,EAAME,KAAKD,S,OCeZE,4BACXC,aAhBkB,SAACJ,GACnB,MAAQ,CACJf,QAASe,EAAMK,YAAYpB,QAC3BI,SAAUW,EAAMK,YAAYhB,aAIV,SAACiB,GACvB,MAAQ,CACJT,mBAAoB,SAACC,GACjBQ,EAASC,YAAkBT,UDNP,SAACU,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,OAAKC,KAAKrD,MAAM4C,OACT,cAACO,EAAD,eAAeE,KAAKrD,QADI,cAAC,IAAD,CAAUY,GAAI,eAJV,GAEX0C,IAAMH,WAOtC,OAAOJ,YAAQL,EAARK,CAAgCK,KCE5BN,CAGbpB","file":"static/js/3.7576be89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__138dG\",\"messages\":\"Dialogs_messages__2fdGH\",\"newPostForm\":\"Dialogs_newPostForm__3cKfp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__1PT_6\",\"avatar\":\"DialogItem_avatar__FvezV\",\"name\":\"DialogItem_name__2d71-\",\"text\":\"DialogItem_text__1YSlu\",\"dialogItems\":\"DialogItem_dialogItems__3ZvVf\",\"visited\":\"DialogItem_visited__27oVx\",\"active\":\"DialogItem_active__4_naQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2tEl7\"};","import s from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n\r\n    let uri = '/dialogs/' + props.id;\r\n\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <div className={s.avatar}>\r\n                <img src={props.img} alt={props.name} />\r\n            </div>\r\n            <div className={s.name}>\r\n                <NavLink to={uri}>{props.name}</NavLink>\r\n            </div>\r\n            <div className={s.text}>\r\n                Текст сообщения\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default DialogItem;","import s from './Message.module.css'\r\nimport React from \"react\";\r\n\r\nconst Message = (props) => {\r\n\r\n    return (\r\n        <div className={s.message}>{props.text}</div>\r\n    );\r\n\r\n}\r\n\r\nexport default Message;","import s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {Textarea} from '../common/FormsControls';\r\nimport {maxLengthCreator, required} from '../../utils/validators/validator';\r\n\r\nconst maxLengthCreator5 = maxLengthCreator(5);\r\n\r\nconst AddMessageForm = (props) => {\r\n\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <label>\r\n                Add new message <br/>\r\n                <div>\r\n                    <Field component={Textarea}\r\n                           name={'newMessageBody'}\r\n    /*                       TypeField={'textarea'}*/\r\n                           validate={[required, maxLengthCreator5]} />\r\n                </div>\r\n            </label>\r\n            <button>Отправить</button>\r\n        </form>\r\n    );\r\n\r\n}\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let dialogsElements =\r\n        props.dialogs.map( d => <DialogItem key={d.id} id={d.id} name={d.name} img={d.img} /> );\r\n\r\n    let messagesElements =\r\n        props.messages.map( m => <Message key={m.id} text={m.text} /> );\r\n\r\n    const MessageReduxForm = reduxForm({form: 'Message'})(AddMessageForm);\r\n\r\n    const addNewMessage = (formData) => {\r\n        props.onSendMessageClick(formData.newMessageBody);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogItems}>\r\n                    { dialogsElements }\r\n                </div>\r\n                <div className={s.messages}>\r\n                    <div>\r\n                        { messagesElements }\r\n                    </div>\r\n\r\n                    <div className={s.newPostForm}>\r\n                        <MessageReduxForm onSubmit={addNewMessage} />\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Navigate} from 'react-router-dom';\r\n\r\nlet mapStateToPropsForAuth = (state) => {\r\n    return ({\r\n        isAuth: state.auth.isAuth,\r\n    });\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to={'/login'} />;\r\n            return <Component {...this.props} />\r\n        };\r\n    }\r\n\r\n    return connect(mapStateToPropsForAuth)(RedirectComponent);\r\n\r\n}","import {addMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return ({\r\n        dialogs: state.dialogsPage.dialogs,\r\n        messages: state.dialogsPage.messages,\r\n    });\r\n}\r\n\r\nlet mapsDispatchToProps = (dispatch) => {\r\n    return ({\r\n        onSendMessageClick: (newMessageBody) => {\r\n            dispatch(addMessageCreator(newMessageBody));\r\n        },\r\n    });\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapsDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}